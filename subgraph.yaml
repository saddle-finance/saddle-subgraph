specVersion: 0.0.2
description: An automated market maker for pegged value crypto assets
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: BTCPool
    network: mainnet
    source:
      address: "0x4f6A43Ad7cba042606dECaCA730d4CE0A57ac62e"
      abi: SwapFlashLoan
      startBlock: 11685572
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Swap
        - SystemInfo
        - Token
        - NewAdminFeeEvent
        - NewSwapFeeEvent
        - NewWithdrawFeeEvent
        - RampAEvent
        - StopRampAEvent
        - AddLiquidityEvent
        - RemoveLiquidityEvent
        - TokenExchange
      abis:
        - name: SwapFlashLoan
          file: ./abis/SwapFlashLoan.json
        - name: ERC20
          file: ./abis/ERC20.json
      eventHandlers:
        - event: NewAdminFee(uint256)
          handler: handleNewAdminFee
        - event: NewSwapFee(uint256)
          handler: handleNewSwapFee
        - event: NewWithdrawFee(uint256)
          handler: handleNewWithdrawFee
        - event: RampA(uint256,uint256,uint256,uint256)
          handler: handleRampA
        - event: StopRampA(uint256,uint256)
          handler: handleStopRampA
        - event: AddLiquidity(indexed address,uint256[],uint256[],uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(indexed address,uint256[],uint256)
          handler: handleRemoveLiquidity
        - event: RemoveLiquidityImbalance(indexed address,uint256[],uint256[],uint256,uint256)
          handler: handleRemoveLiquidityImbalance
        - event: RemoveLiquidityOne(indexed address,uint256,uint256,uint256,uint256)
          handler: handleRemoveLiquidityOne
        - event: TokenSwap(indexed address,uint256,uint256,uint128,uint128)
          handler: handleTokenSwap
      file: ./src/mappings/swapFlashLoan.ts

  - kind: ethereum/contract
    name: USDPool
    network: mainnet
    source:
      address: "0x3911F80530595fBd01Ab1516Ab61255d75AEb066"
      abi: SwapFlashLoan
      startBlock: 12066229
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Swap
        - SystemInfo
        - Token
        - NewAdminFeeEvent
        - NewSwapFeeEvent
        - NewWithdrawFeeEvent
        - RampAEvent
        - StopRampAEvent
        - AddLiquidityEvent
        - RemoveLiquidityEvent
        - FlashLoanEvent
        - TokenExchange
      abis:
        - name: SwapFlashLoan
          file: ./abis/SwapFlashLoan.json
        - name: ERC20
          file: ./abis/ERC20.json
      eventHandlers:
        - event: NewAdminFee(uint256)
          handler: handleNewAdminFee
        - event: NewSwapFee(uint256)
          handler: handleNewSwapFee
        - event: NewWithdrawFee(uint256)
          handler: handleNewWithdrawFee
        - event: RampA(uint256,uint256,uint256,uint256)
          handler: handleRampA
        - event: StopRampA(uint256,uint256)
          handler: handleStopRampA
        - event: AddLiquidity(indexed address,uint256[],uint256[],uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(indexed address,uint256[],uint256)
          handler: handleRemoveLiquidity
        - event: RemoveLiquidityImbalance(indexed address,uint256[],uint256[],uint256,uint256)
          handler: handleRemoveLiquidityImbalance
        - event: RemoveLiquidityOne(indexed address,uint256,uint256,uint256,uint256)
          handler: handleRemoveLiquidityOne
        - event: FlashLoan(indexed address,uint8,uint256,uint256,uint256)
          handler: handleFlashLoan
        - event: TokenSwap(indexed address,uint256,uint256,uint128,uint128)
          handler: handleTokenSwap
      file: ./src/mappings/swapFlashLoan.ts

  - kind: ethereum/contract
    name: VETH2Pool
    network: mainnet
    source:
      address: "0xdec2157831D6ABC3Ec328291119cc91B337272b5"
      abi: SwapFlashLoan
      startBlock: 12195714
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Swap
        - SystemInfo
        - Token
        - NewAdminFeeEvent
        - NewSwapFeeEvent
        - NewWithdrawFeeEvent
        - RampAEvent
        - StopRampAEvent
        - AddLiquidityEvent
        - RemoveLiquidityEvent
        - FlashLoanEvent
        - TokenExchange
      abis:
        - name: SwapFlashLoan
          file: ./abis/SwapFlashLoan.json
        - name: ERC20
          file: ./abis/ERC20.json
      eventHandlers:
        - event: NewAdminFee(uint256)
          handler: handleNewAdminFee
        - event: NewSwapFee(uint256)
          handler: handleNewSwapFee
        - event: NewWithdrawFee(uint256)
          handler: handleNewWithdrawFee
        - event: RampA(uint256,uint256,uint256,uint256)
          handler: handleRampA
        - event: StopRampA(uint256,uint256)
          handler: handleStopRampA
        - event: AddLiquidity(indexed address,uint256[],uint256[],uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(indexed address,uint256[],uint256)
          handler: handleRemoveLiquidity
        - event: RemoveLiquidityImbalance(indexed address,uint256[],uint256[],uint256,uint256)
          handler: handleRemoveLiquidityImbalance
        - event: RemoveLiquidityOne(indexed address,uint256,uint256,uint256,uint256)
          handler: handleRemoveLiquidityOne
        - event: FlashLoan(indexed address,uint8,uint256,uint256,uint256)
          handler: handleFlashLoan
        - event: TokenSwap(indexed address,uint256,uint256,uint128,uint128)
          handler: handleTokenSwap
      file: ./src/mappings/swapFlashLoan.ts

  - kind: ethereum/contract
    name: ALETHPool
    network: mainnet
    source:
      address: "0xa6018520EAACC06C30fF2e1B3ee2c7c22e64196a"
      abi: SwapFlashLoanNoWithdrawFee
      startBlock: 12634694
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Swap
        - SystemInfo
        - Token
        - NewAdminFeeEvent
        - NewSwapFeeEvent
        - RampAEvent
        - StopRampAEvent
        - AddLiquidityEvent
        - RemoveLiquidityEvent
        - FlashLoanEvent
        - TokenExchange
      abis:
        - name: SwapFlashLoanNoWithdrawFee
          file: ./abis/SwapFlashLoanNoWithdrawFee.json
        - name: ERC20
          file: ./abis/ERC20.json
      eventHandlers:
        - event: NewAdminFee(uint256)
          handler: handleNewAdminFee
        - event: NewSwapFee(uint256)
          handler: handleNewSwapFee
        - event: RampA(uint256,uint256,uint256,uint256)
          handler: handleRampA
        - event: StopRampA(uint256,uint256)
          handler: handleStopRampA
        - event: AddLiquidity(indexed address,uint256[],uint256[],uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(indexed address,uint256[],uint256)
          handler: handleRemoveLiquidity
        - event: RemoveLiquidityImbalance(indexed address,uint256[],uint256[],uint256,uint256)
          handler: handleRemoveLiquidityImbalance
        - event: RemoveLiquidityOne(indexed address,uint256,uint256,uint256,uint256)
          handler: handleRemoveLiquidityOne
        - event: FlashLoan(indexed address,uint8,uint256,uint256,uint256)
          handler: handleFlashLoan
        - event: TokenSwap(indexed address,uint256,uint256,uint128,uint128)
          handler: handleTokenSwap
      file: ./src/mappings/swapFlashLoanNoWithdrawFee.ts

  - kind: ethereum/contract
    name: D4Pool
    network: mainnet
    source:
      address: "0xC69DDcd4DFeF25D8a793241834d4cc4b3668EAD6"
      abi: SwapFlashLoanNoWithdrawFee
      startBlock: 12701652
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Swap
        - SystemInfo
        - Token
        - NewAdminFeeEvent
        - NewSwapFeeEvent
        - RampAEvent
        - StopRampAEvent
        - AddLiquidityEvent
        - RemoveLiquidityEvent
        - FlashLoanEvent
        - TokenExchange
      abis:
        - name: SwapFlashLoanNoWithdrawFee
          file: ./abis/SwapFlashLoanNoWithdrawFee.json
        - name: ERC20
          file: ./abis/ERC20.json
      eventHandlers:
        - event: NewAdminFee(uint256)
          handler: handleNewAdminFee
        - event: NewSwapFee(uint256)
          handler: handleNewSwapFee
        - event: RampA(uint256,uint256,uint256,uint256)
          handler: handleRampA
        - event: StopRampA(uint256,uint256)
          handler: handleStopRampA
        - event: AddLiquidity(indexed address,uint256[],uint256[],uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(indexed address,uint256[],uint256)
          handler: handleRemoveLiquidity
        - event: RemoveLiquidityImbalance(indexed address,uint256[],uint256[],uint256,uint256)
          handler: handleRemoveLiquidityImbalance
        - event: RemoveLiquidityOne(indexed address,uint256,uint256,uint256,uint256)
          handler: handleRemoveLiquidityOne
        - event: FlashLoan(indexed address,uint8,uint256,uint256,uint256)
          handler: handleFlashLoan
        - event: TokenSwap(indexed address,uint256,uint256,uint128,uint128)
          handler: handleTokenSwap
      file: ./src/mappings/swapFlashLoanNoWithdrawFee.ts

  - kind: ethereum/contract
    name: USDPoolV2
    network: mainnet
    source:
      address: "0xaCb83E0633d6605c5001e2Ab59EF3C745547C8C7"
      abi: SwapFlashLoanNoWithdrawFee
      startBlock: 12827153
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Swap
        - SystemInfo
        - Token
        - NewAdminFeeEvent
        - NewSwapFeeEvent
        - RampAEvent
        - StopRampAEvent
        - AddLiquidityEvent
        - RemoveLiquidityEvent
        - FlashLoanEvent
        - TokenExchange
      abis:
        - name: SwapFlashLoanNoWithdrawFee
          file: ./abis/SwapFlashLoanNoWithdrawFee.json
        - name: ERC20
          file: ./abis/ERC20.json
      eventHandlers:
        - event: NewAdminFee(uint256)
          handler: handleNewAdminFee
        - event: NewSwapFee(uint256)
          handler: handleNewSwapFee
        - event: RampA(uint256,uint256,uint256,uint256)
          handler: handleRampA
        - event: StopRampA(uint256,uint256)
          handler: handleStopRampA
        - event: AddLiquidity(indexed address,uint256[],uint256[],uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(indexed address,uint256[],uint256)
          handler: handleRemoveLiquidity
        - event: RemoveLiquidityImbalance(indexed address,uint256[],uint256[],uint256,uint256)
          handler: handleRemoveLiquidityImbalance
        - event: RemoveLiquidityOne(indexed address,uint256,uint256,uint256,uint256)
          handler: handleRemoveLiquidityOne
        - event: FlashLoan(indexed address,uint8,uint256,uint256,uint256)
          handler: handleFlashLoan
        - event: TokenSwap(indexed address,uint256,uint256,uint128,uint128)
          handler: handleTokenSwap
      file: ./src/mappings/swapFlashLoanNoWithdrawFee.ts

  - kind: ethereum/contract
    name: SUSDMetaPool
    network: mainnet
    source:
      address: "0x0C8BAe14c9f9BF2c953997C881BEfaC7729FD314"
      abi: MetaSwap
      startBlock: 12912720
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Swap
        - SystemInfo
        - Token
        - NewAdminFeeEvent
        - NewSwapFeeEvent
        - RampAEvent
        - StopRampAEvent
        - AddLiquidityEvent
        - RemoveLiquidityEvent
        - TokenExchange
        - TokenExchangeUnderlying
      abis:
        - name: MetaSwap
          file: ./abis/MetaSwap.json
        - name: ERC20
          file: ./abis/ERC20.json
      eventHandlers:
        - event: NewAdminFee(uint256)
          handler: handleNewAdminFee
        - event: NewSwapFee(uint256)
          handler: handleNewSwapFee
        - event: RampA(uint256,uint256,uint256,uint256)
          handler: handleRampA
        - event: StopRampA(uint256,uint256)
          handler: handleStopRampA
        - event: AddLiquidity(indexed address,uint256[],uint256[],uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(indexed address,uint256[],uint256)
          handler: handleRemoveLiquidity
        - event: RemoveLiquidityImbalance(indexed address,uint256[],uint256[],uint256,uint256)
          handler: handleRemoveLiquidityImbalance
        - event: RemoveLiquidityOne(indexed address,uint256,uint256,uint256,uint256)
          handler: handleRemoveLiquidityOne
        - event: TokenSwap(indexed address,uint256,uint256,uint128,uint128)
          handler: handleTokenSwap
        - event: TokenSwap(indexed address,uint256,uint256,uint128,uint128)
          handler: handleTokenSwap
        - event: TokenSwapUnderlying(indexed address,uint256,uint256,uint128,uint128)
          handler: handleTokenSwapUnderlying
      file: ./src/mappings/metaSwap.ts

  - kind: ethereum/contract
    name: BTCPoolV2
    network: mainnet
    source:
      address: "0xdf3309771d2BF82cb2B6C56F9f5365C8bD97c4f2"
      abi: SwapFlashLoanNoWithdrawFee
      startBlock: 13083826
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Swap
        - SystemInfo
        - Token
        - NewAdminFeeEvent
        - NewSwapFeeEvent
        - RampAEvent
        - StopRampAEvent
        - AddLiquidityEvent
        - RemoveLiquidityEvent
        - FlashLoanEvent
        - TokenExchange
      abis:
        - name: SwapFlashLoanNoWithdrawFee
          file: ./abis/SwapFlashLoanNoWithdrawFee.json
        - name: ERC20
          file: ./abis/ERC20.json
      eventHandlers:
        - event: NewAdminFee(uint256)
          handler: handleNewAdminFee
        - event: NewSwapFee(uint256)
          handler: handleNewSwapFee
        - event: RampA(uint256,uint256,uint256,uint256)
          handler: handleRampA
        - event: StopRampA(uint256,uint256)
          handler: handleStopRampA
        - event: AddLiquidity(indexed address,uint256[],uint256[],uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(indexed address,uint256[],uint256)
          handler: handleRemoveLiquidity
        - event: RemoveLiquidityImbalance(indexed address,uint256[],uint256[],uint256,uint256)
          handler: handleRemoveLiquidityImbalance
        - event: RemoveLiquidityOne(indexed address,uint256,uint256,uint256,uint256)
          handler: handleRemoveLiquidityOne
        - event: FlashLoan(indexed address,uint8,uint256,uint256,uint256)
          handler: handleFlashLoan
        - event: TokenSwap(indexed address,uint256,uint256,uint128,uint128)
          handler: handleTokenSwap
      file: ./src/mappings/swapFlashLoanNoWithdrawFee.ts

  - kind: ethereum/contract
    name: TBTCMetaPool
    network: mainnet
    source:
      address: "0xf74ebe6e5586275dc4CeD78F5DBEF31B1EfbE7a5"
      abi: MetaSwap
      startBlock: 13130191
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Swap
        - SystemInfo
        - Token
        - NewAdminFeeEvent
        - NewSwapFeeEvent
        - RampAEvent
        - StopRampAEvent
        - AddLiquidityEvent
        - RemoveLiquidityEvent
        - TokenExchange
        - TokenExchangeUnderlying
      abis:
        - name: MetaSwap
          file: ./abis/MetaSwap.json
        - name: ERC20
          file: ./abis/ERC20.json
      eventHandlers:
        - event: NewAdminFee(uint256)
          handler: handleNewAdminFee
        - event: NewSwapFee(uint256)
          handler: handleNewSwapFee
        - event: RampA(uint256,uint256,uint256,uint256)
          handler: handleRampA
        - event: StopRampA(uint256,uint256)
          handler: handleStopRampA
        - event: AddLiquidity(indexed address,uint256[],uint256[],uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(indexed address,uint256[],uint256)
          handler: handleRemoveLiquidity
        - event: RemoveLiquidityImbalance(indexed address,uint256[],uint256[],uint256,uint256)
          handler: handleRemoveLiquidityImbalance
        - event: RemoveLiquidityOne(indexed address,uint256,uint256,uint256,uint256)
          handler: handleRemoveLiquidityOne
        - event: TokenSwap(indexed address,uint256,uint256,uint128,uint128)
          handler: handleTokenSwap
        - event: TokenSwap(indexed address,uint256,uint256,uint128,uint128)
          handler: handleTokenSwap
        - event: TokenSwapUnderlying(indexed address,uint256,uint256,uint128,uint128)
          handler: handleTokenSwapUnderlying
      file: ./src/mappings/metaSwap.ts

  - kind: ethereum/contract
    name: WCUSDMetaPool
    network: mainnet
    source:
      address: "0x3F1d224557afA4365155ea77cE4BC32D5Dae2174"
      abi: MetaSwap
      startBlock: 13156995
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Swap
        - SystemInfo
        - Token
        - NewAdminFeeEvent
        - NewSwapFeeEvent
        - RampAEvent
        - StopRampAEvent
        - AddLiquidityEvent
        - RemoveLiquidityEvent
        - TokenExchange
        - TokenExchangeUnderlying
      abis:
        - name: MetaSwap
          file: ./abis/MetaSwap.json
        - name: ERC20
          file: ./abis/ERC20.json
      eventHandlers:
        - event: NewAdminFee(uint256)
          handler: handleNewAdminFee
        - event: NewSwapFee(uint256)
          handler: handleNewSwapFee
        - event: RampA(uint256,uint256,uint256,uint256)
          handler: handleRampA
        - event: StopRampA(uint256,uint256)
          handler: handleStopRampA
        - event: AddLiquidity(indexed address,uint256[],uint256[],uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(indexed address,uint256[],uint256)
          handler: handleRemoveLiquidity
        - event: RemoveLiquidityImbalance(indexed address,uint256[],uint256[],uint256,uint256)
          handler: handleRemoveLiquidityImbalance
        - event: RemoveLiquidityOne(indexed address,uint256,uint256,uint256,uint256)
          handler: handleRemoveLiquidityOne
        - event: TokenSwap(indexed address,uint256,uint256,uint128,uint128)
          handler: handleTokenSwap
        - event: TokenSwap(indexed address,uint256,uint256,uint128,uint128)
          handler: handleTokenSwap
        - event: TokenSwapUnderlying(indexed address,uint256,uint256,uint128,uint128)
          handler: handleTokenSwapUnderlying
      file: ./src/mappings/metaSwap.ts
